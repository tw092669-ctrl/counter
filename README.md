
# æ³•è— fazang ä¿®æ³•è¨˜æ•¸å™¨

ä¸€å€‹ç°¡æ½”å„ªé›…çš„ä½›æ•™æŒå’’è¨ˆæ•¸æ‡‰ç”¨ï¼Œå¹«åŠ©æ‚¨è¿½è¹¤å’Œç®¡ç†æ¯æ—¥ä¿®è¡Œé€²åº¦ã€‚

## åŠŸèƒ½ç‰¹è‰²

- âœ¨ **å’’èªç®¡ç†**ï¼šæ–°å¢ã€ç·¨è¼¯å’Œç®¡ç†å¤šå€‹å’’èªé …ç›®
- ğŸ“Š **è¨ˆæ•¸è¿½è¹¤**ï¼šè¨˜éŒ„æ¯æ¬¡æŒå’’çš„æ¬¡æ•¸ï¼Œæ”¯æ´å¿«é€Ÿè¨ˆæ•¸èˆ‡ç¸½æ•¸é¡¯ç¤º
- ğŸ¯ **ç›®æ¨™è¨­å®š**ï¼šç‚ºæ¯å€‹å’’èªè¨­å®šæŒèª¦ç›®æ¨™ï¼Œé¡¯ç¤ºå®Œæˆé€²åº¦
- ğŸ“… **æœŸé–“çµ±è¨ˆ**ï¼šè¨­å®šæŒå’’æœŸé–“ï¼ˆèµ·è¨–æ—¥æœŸï¼‰ï¼ŒæŸ¥çœ‹æœŸé–“å…§çš„é€²åº¦èˆ‡ç´¯è¨ˆ
- ğŸ“Œ **ç½®é ‚åŠŸèƒ½**ï¼šå°‡é‡é»ä¿®æ³•é …ç›®ç½®é ‚é¡¯ç¤ºï¼Œæ–¹ä¾¿å„ªå…ˆè¨˜éŒ„
- ğŸ”„ **æ­¸é›¶åŠŸèƒ½**ï¼šé …ç›®å®Œæˆå¾Œå¯é‡ç½®è¨ˆæ•¸ï¼Œè‡ªå‹•è¨˜éŒ„åˆ°è©¦ç®—è¡¨
- ğŸ“– **æ­·å²ç´€éŒ„**ï¼šæŸ¥çœ‹å®Œæ•´çš„æŒå’’æ­·å²è¨˜éŒ„
- ğŸ‘¤ **å€‹äººè³‡æ–™**ï¼šè¨­å®šä¿®è¡Œè€…å§“åèˆ‡å…±ä¿®åœ˜é«”
- â˜ï¸ **é›²ç«¯åŒæ­¥**ï¼šæ”¯æ´ Google Sheets åŒæ­¥ï¼Œå¤šäººå…±ä¿®çµ±è¨ˆ
- ğŸ¨ **éš¨æ©Ÿé…è‰²**ï¼šæ¯å€‹é …ç›®è‡ªå‹•åˆ†é…æ·±è‰²è­˜åˆ¥è‰²ï¼Œä¾¿æ–¼è©¦ç®—è¡¨çµ±è¨ˆ
- ğŸ’¬ **å‹¸ä¸–æ³•èª**ï¼šéš¨æ©Ÿé¡¯ç¤ºä½›æ•™æ³•èªï¼Œå¢æ·»ä¿®è¡Œæ°›åœ
- ğŸŒ™ **æœ¬åœ°å„²å­˜**ï¼šæ‰€æœ‰è³‡æ–™å„²å­˜åœ¨æœ¬åœ°ç€è¦½å™¨ï¼Œä¿è­·æ‚¨çš„éš±ç§

## æŠ€è¡“æ¶æ§‹

- **æ¡†æ¶**ï¼šReact 19 + TypeScript
- **å»ºç½®å·¥å…·**ï¼šVite 6
- **æ¨£å¼**ï¼šTailwind CSS 4 + PostCSS
- **åœ–ç¤º**ï¼šLucide React
- **å„²å­˜**ï¼šLocalStorage API

## å®‰è£èˆ‡åŸ·è¡Œ

### å‰ç½®éœ€æ±‚

- Node.js 18+ 
- npm æˆ– yarn

### æœ¬åœ°é–‹ç™¼

1. å®‰è£ä¾è³´ï¼š
   ```bash
   npm install
   ```

2. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼š
   ```bash
   npm run dev
   ```

3. åœ¨ç€è¦½å™¨é–‹å•Ÿ `http://localhost:3000`

### å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬

```bash
npm run build
```

å»ºç½®å®Œæˆå¾Œï¼Œç”¢å‡ºæª”æ¡ˆæœƒåœ¨ `dist` ç›®éŒ„ä¸­ã€‚

### é è¦½ç”Ÿç”¢ç‰ˆæœ¬

```bash
npm run preview
```

## å°ˆæ¡ˆçµæ§‹

```
fazang/
â”œâ”€â”€ components/          # React å…ƒä»¶
â”‚   â”œâ”€â”€ BuddhaHeader.tsx         # é ‚éƒ¨èƒŒæ™¯èˆ‡æ³•èªé¡¯ç¤º
â”‚   â”œâ”€â”€ DateSettingModal.tsx     # æœŸé–“è¨­å®šè¦–çª—
â”‚   â”œâ”€â”€ EditMantraModal.tsx      # ç·¨è¼¯é …ç›®è¦–çª—
â”‚   â”œâ”€â”€ HistoryView.tsx          # æ­·å²ç´€éŒ„æª¢è¦–
â”‚   â”œâ”€â”€ InputModal.tsx           # è¨ˆæ•¸è¼¸å…¥è¦–çª—
â”‚   â”œâ”€â”€ SheetSettingsModal.tsx   # Google Sheets è¨­å®š
â”‚   â””â”€â”€ UserModal.tsx            # ä½¿ç”¨è€…è³‡æ–™è¨­å®š
â”œâ”€â”€ services/           # æœå‹™å±¤
â”‚   â””â”€â”€ storage.ts      # LocalStorage èˆ‡ Google Sheets ç®¡ç†
â”œâ”€â”€ App.tsx             # ä¸»æ‡‰ç”¨å…ƒä»¶
â”œâ”€â”€ index.tsx           # æ‡‰ç”¨å…¥å£
â”œâ”€â”€ types.ts            # TypeScript å‹åˆ¥å®šç¾©
â”œâ”€â”€ constants.ts        # å¸¸æ•¸å®šç¾©ï¼ˆæ³•èªã€ä½›åƒåœ–ç‰‡ï¼‰
â”œâ”€â”€ index.css           # å…¨åŸŸæ¨£å¼èˆ‡ Tailwind è¨­å®š
â””â”€â”€ vite.config.ts      # Vite é…ç½®
```

## éƒ¨ç½²

æ­¤æ‡‰ç”¨ç‚ºç´”å‰ç«¯å°ˆæ¡ˆï¼Œå¯éƒ¨ç½²è‡³ä»»ä½•éœæ…‹ç¶²ç«™è¨—ç®¡æœå‹™ï¼š

- **GitHub Pages**ï¼šå·²é…ç½®è‡ªå‹•éƒ¨ç½² workflow
- **Vercel**ï¼š`vercel --prod`
- **Netlify**ï¼šæ‹–æ”¾ `dist` ç›®éŒ„
- **å…¶ä»–**ï¼šä¸Šå‚³ `dist` ç›®éŒ„è‡³ä»»ä½•éœæ…‹ä¼ºæœå™¨

### GitHub Pages éƒ¨ç½²

å°ˆæ¡ˆå·²é…ç½® GitHub Actions è‡ªå‹•éƒ¨ç½²ï¼š

```bash
npm run build
git add .
git commit -m "Update"
git push
```

æ¨é€å¾Œæœƒè‡ªå‹•è§¸ç™¼ `.github/workflows/deploy.yml`ï¼Œå°‡å»ºç½®çµæœéƒ¨ç½²åˆ° GitHub Pagesã€‚

## Google Sheets åŒæ­¥è¨­å®š

1. é–‹å•Ÿ Google è©¦ç®—è¡¨
2. å»ºç«‹å››å€‹åˆ†é ï¼Œåç¨±åˆ†åˆ¥ç‚ºï¼š
   - **ç¬¬ä¸€çµ„** (sheet1)
   - **ç¬¬äºŒçµ„** (sheet2)
   - **ç¬¬ä¸‰çµ„** (sheet3)
   - **ç¬¬å››çµ„** (sheet4)
3. é»é¸ã€Œæ“´å……åŠŸèƒ½ã€â†’ã€ŒApps Scriptã€
4. è²¼ä¸Šä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š

```javascript
function doPost(e) {
  try {
    const spreadsheet = SpreadsheetApp.getActiveSpreadsheet();
    const payload = JSON.parse(e.postData.contents);
    
    // æ ¹æ“šçµ„åˆ¥é¸æ“‡å°æ‡‰çš„åˆ†é 
    // å°å—ä¸€çµ„ -> ç¬¬ä¸€çµ„
    // å°å—äºŒçµ„ -> ç¬¬äºŒçµ„
    // å°å—ä¸‰çµ„ -> ç¬¬ä¸‰çµ„
    // å°å—å››çµ„ -> ç¬¬å››çµ„
    let sheetName = 'ç¬¬ä¸€çµ„'; // é è¨­
    const userGroup = payload.userGroup || '';
    
    if (userGroup.includes('ä¸€çµ„')) {
      sheetName = 'ç¬¬ä¸€çµ„';
    } else if (userGroup.includes('äºŒçµ„')) {
      sheetName = 'ç¬¬äºŒçµ„';
    } else if (userGroup.includes('ä¸‰çµ„')) {
      sheetName = 'ç¬¬ä¸‰çµ„';
    } else if (userGroup.includes('å››çµ„')) {
      sheetName = 'ç¬¬å››çµ„';
    }
    
    // å–å¾—æˆ–å»ºç«‹å°æ‡‰çš„åˆ†é 
    let sheet = spreadsheet.getSheetByName(sheetName);
    if (!sheet) {
      sheet = spreadsheet.insertSheet(sheetName);
    }
    
    // å¦‚æœæ˜¯æ–°åˆ†é æˆ–ç©ºåˆ†é ï¼ŒåŠ å…¥æ¨™é¡Œåˆ—
    if (sheet.getLastRow() === 0) {
      sheet.appendRow(['æ™‚é–“', 'ä½¿ç”¨è€…åç¨±', 'å…±ä¿®åœ˜é«”', 'é …ç›®åç¨±', 'è®Šå‹•å€¼', 'é …ç›®ç•¶å‰ç¸½æ•¸']);
      sheet.getRange(1, 1, 1, 6).setFontWeight('bold').setFontColor('#000000').setBackground('#f3f4f6');
    }
    
    if (payload.action === 'ADD_LOG') {
      const data = payload.data;
      sheet.appendRow([
        data.timestamp,
        payload.userName || '',
        payload.userGroup || '',
        data.mantraName,
        data.amount,
        data.totalCount
      ]);
      
      const rowIndex = sheet.getLastRow();
      sheet.getRange(rowIndex, 1, 1, 6).setFontColor('#000000');
      
      // å¦‚æœæœ‰é¡è‰²è³‡è¨Šï¼Œå¯ä»¥è¨­å®šèƒŒæ™¯è‰²ï¼ˆå¯é¸ï¼‰
      if (data.color) {
        sheet.getRange(rowIndex, 4).setBackground(data.color).setFontColor('#ffffff');
      }
      
      return ContentService.createTextOutput(JSON.stringify({
        status: 'success',
        sheet: sheetName
      })).setMimeType(ContentService.MimeType.JSON);
    }
  } catch (error) {
    return ContentService.createTextOutput(JSON.stringify({
      status: 'error',
      message: error.toString()
    })).setMimeType(ContentService.MimeType.JSON);
  }
}
```

5. éƒ¨ç½²ç‚ºç¶²é æ‡‰ç”¨ç¨‹å¼ï¼ˆåŸ·è¡Œèº«åˆ†ï¼šæˆ‘ï¼Œå­˜å–æ¬Šé™ï¼šä»»ä½•äººï¼‰
6. è¤‡è£½éƒ¨ç½²ç¶²å€
7. åœ¨æ‡‰ç”¨ä¸­é»é¸è¨­å®šï¼Œè²¼ä¸Šç¶²å€

### åˆ†é èªªæ˜

ç³»çµ±æœƒæ ¹æ“šä½¿ç”¨è€…çš„çµ„åˆ¥è‡ªå‹•å°‡è³‡æ–™å¯«å…¥å°æ‡‰çš„åˆ†é ï¼š
- **å°å—ä¸€çµ„** â†’ ç¬¬ä¸€çµ„ (sheet1)
- **å°å—äºŒçµ„** â†’ ç¬¬äºŒçµ„ (sheet2)
- **å°å—ä¸‰çµ„** â†’ ç¬¬ä¸‰çµ„ (sheet3)
- **å°å—å››çµ„** â†’ ç¬¬å››çµ„ (sheet4)

å¦‚æœä½¿ç”¨è€…æœªè¨­å®šçµ„åˆ¥ï¼Œè³‡æ–™å°‡é è¨­å¯«å…¥ã€Œç¬¬ä¸€çµ„ã€åˆ†é ã€‚

### å…±ä¿®åœ˜é«”ä½¿ç”¨æ–¹å¼

å»ºç«‹åŒ…å«è©¦ç®—è¡¨è¨­å®šçš„é€£çµï¼š
```
https://your-domain.com/?script=APPS_SCRIPT_URL&group=GROUP_NAME
```

æˆå“¡å¾æ­¤é€£çµé€²å…¥å¾Œï¼Œå¯å°‡é é¢åŠ åˆ°ä¸»ç•«é¢ï¼Œä¹‹å¾Œå¾æ¡Œé¢é–‹å•Ÿå³è‡ªå‹•é€£çµè©¦ç®—è¡¨ã€‚

## æˆæ¬Š

MIT License

## è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼
